<%@page import="sist.com.model.BbsBean"%>
<%@page import="org.apache.commons.fileupload.FileItem"%>
<%@page import="java.util.List"%>
<%@page import="org.apache.commons.fileupload.DiskFileUpload"%>
<%@page import="org.apache.commons.fileupload.FileUpload"%>
<%@page import="sist.com.dao.AppleDao"%>
<%@ page language="java" contentType="text/html; charset=EUC-KR"
    pageEncoding="EUC-KR"%>
<!DOCTYPE html>
<html>
<head>
<meta charset="EUC-KR">
<title>Insert title here</title>
<%
  request.setCharacterEncoding("EUC-KR");
%>
 
<jsp:useBean id="bean" class="sist.com.model.BbsBean" scope="page"/>

<jsp:setProperty property="*" name="bean"/>
</head>
<body>
<%
   request.setCharacterEncoding("EUC-KR");
    String path="D:\\javaWork\\MYbatisBasic\\web\\WebContent\\upload\\";
    if(FileUpload.isMultipartContent(request)){
    	DiskFileUpload diskFileUpload=new DiskFileUpload();
    	diskFileUpload.setRepositoryPath(path);
    	diskFileUpload.setSizeMax(1024*1024*5);
    	List<FileItem>list=diskFileUpload.parseRequest(request);
    	BbsBean bbs=new BbsBean();
    	for(FileItem fileItem:list){
    		String name=fileItem.getFieldName();
    		out.print(name);
    		if(name.equals("title")){
    			bbs.setTitle(fileItem.getString("EUC-KR"));
    		}
    		if(name.equals("writer")){
    			bbs.setWriter(fileItem.getString("EUC-KR"));
    		}
    		if(name.equals("password")){
    			bbs.setPassword(fileItem.getString("EUC-KR"));
    		}
    		if(name.equals("contents")){
    			bbs.setContents(fileItem.getString("EUC-KR"));
    		}
    	}
    	 out.println(bbs);
    	
    	
    }    
    
    //AppleDao.insertBBS(bean);
    //response.sendRedirect("list.jsp");
%>

</body>
</html>






